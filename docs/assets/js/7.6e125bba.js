(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{208:function(t,a,e){"use strict";e.r(a);var v=e(0),r=Object(v.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"title-context"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#title-context"}},[t._v("#")]),t._v(" title: Context")]),t._v(" "),e("h1",{attrs:{id:"context"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#context"}},[t._v("#")]),t._v(" Context")]),t._v(" "),e("p",[e("code",[t._v("new Context(broker, endpoint)")])]),t._v(" "),e("p",[t._v("Context class for action calls")]),t._v(" "),e("h3",{attrs:{id:"properties"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#properties"}},[t._v("#")]),t._v(" Properties")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Property")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("id")])]),t._v(" "),e("td",[t._v("String")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("Context ID")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("broker")])]),t._v(" "),e("td",[t._v("ServiceBroker")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("Broker instance")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("action")])]),t._v(" "),e("td",[t._v("Action")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("Action definition")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("nodeID")])]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("Node ID")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("caller")])]),t._v(" "),e("td",[t._v("String")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("Action name of the caller. E.g.: "),e("code",[t._v("v3.myService.myAction")])])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("parentID")])]),t._v(" "),e("td",[t._v("String")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("Parent Context ID")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("tracing")])]),t._v(" "),e("td",[t._v("Boolean")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("Need send metrics events")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("level")])]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("Level of context")])])])]),t._v(" "),e("h2",{attrs:{id:"static-members"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#static-members"}},[t._v("#")]),t._v(" Static Members")]),t._v(" "),e("h3",{attrs:{id:"constructor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#constructor"}},[t._v("#")]),t._v(" constructor")]),t._v(" "),e("p",[e("code",[t._v("new Context(broker: ServiceBroker, endpoint: Endpoint)")])]),t._v(" "),e("p",[t._v("Creates an instance of Context.")]),t._v(" "),e("h4",{attrs:{id:"parameters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Property")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("broker")])]),t._v(" "),e("td",[t._v("ServiceBroker")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("Broker instance")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("endpoint")])]),t._v(" "),e("td",[t._v("Endpoint")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("Endpoint (action & nodeID)")])])])]),t._v(" "),e("h3",{attrs:{id:"create"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create"}},[t._v("#")]),t._v(" create")]),t._v(" "),e("p",[e("code",[t._v("create(broker: ServiceBroker, endpoint: Endpoint, params, opts: Object): Context")])]),t._v(" "),e("p",[t._v("Create a new Context instance")]),t._v(" "),e("h4",{attrs:{id:"parameters-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-2"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Property")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("broker")])]),t._v(" "),e("td",[t._v("ServiceBroker")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("endpoint")])]),t._v(" "),e("td",[t._v("Endpoint")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("params")])]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("opts")])]),t._v(" "),e("td",[t._v("Object")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])])])]),t._v(" "),e("h3",{attrs:{id:"id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#id"}},[t._v("#")]),t._v(" id")]),t._v(" "),e("p",[e("code",[t._v("id")])]),t._v(" "),e("p",[t._v("Context ID getter")]),t._v(" "),e("h4",{attrs:{id:"parameters-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-3"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Property")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody")]),t._v(" "),e("h3",{attrs:{id:"setparams"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setparams"}},[t._v("#")]),t._v(" setParams")]),t._v(" "),e("p",[e("code",[t._v("setParams(newParams: Object, cloning: Boolean)")])]),t._v(" "),e("p",[t._v("Set params of context")]),t._v(" "),e("h4",{attrs:{id:"parameters-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-4"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Property")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("newParams")])]),t._v(" "),e("td",[t._v("Object")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("cloning")])]),t._v(" "),e("td",[t._v("Boolean")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])])])]),t._v(" "),e("h3",{attrs:{id:"call"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#call"}},[t._v("#")]),t._v(" call")]),t._v(" "),e("p",[e("code",[t._v("call(actionName: String, params, opts): Promise")])]),t._v(" "),e("p",[t._v("Call an other action. It creates a sub-context.")]),t._v(" "),e("h4",{attrs:{id:"parameters-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-5"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Property")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("actionName")])]),t._v(" "),e("td",[t._v("String")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("params")])]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("opts")])]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])])])]),t._v(" "),e("h4",{attrs:{id:"examples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("p",[e("strong",[t._v("Call an other service with params & options")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ctx")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"posts.get"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" timeout"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h3",{attrs:{id:"emit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#emit"}},[t._v("#")]),t._v(" emit")]),t._v(" "),e("p",[e("code",[t._v("emit(eventName: string, data, groups, payload: any)")])]),t._v(" "),e("p",[t._v("Emit an event (grouped & balanced global event)")]),t._v(" "),e("h4",{attrs:{id:"parameters-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-6"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Property")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("eventName")])]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("groups")])]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("payload")])]),t._v(" "),e("td",[t._v("any")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])])])]),t._v(" "),e("h4",{attrs:{id:"examples-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-2"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("ctx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user.created"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" entity"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" user"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" creator"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ctx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("meta"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h3",{attrs:{id:"broadcast"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#broadcast"}},[t._v("#")]),t._v(" broadcast")]),t._v(" "),e("p",[e("code",[t._v("broadcast(eventName: string, data, groups, payload: any)")])]),t._v(" "),e("p",[t._v("Emit an event for all local & remote services")]),t._v(" "),e("h4",{attrs:{id:"parameters-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-7"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Property")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("eventName")])]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("groups")])]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("payload")])]),t._v(" "),e("td",[t._v("any")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])])])]),t._v(" "),e("h4",{attrs:{id:"examples-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-3"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("ctx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("broadcast")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user.created"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" entity"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" user"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" creator"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ctx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("meta"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);