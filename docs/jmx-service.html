<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>About the JMX Service | Moleculer</title>
    <meta name="description" content="Progressive microservices framework for Java">
    <link rel="icon" href="favicon.ico">
    
    <link rel="preload" href="/site/assets/css/styles.styles.6fb07386.css" as="style"><link rel="preload" href="/site/assets/js/app.26e2216f.js" as="script"><link rel="preload" href="/site/assets/js/0.8d50c814.js" as="script"><link rel="preload" href="/site/assets/js/14.6dff35a5.js" as="script"><link rel="prefetch" href="/site/assets/js/1.067dc35c.js"><link rel="prefetch" href="/site/assets/js/10.6230d782.js"><link rel="prefetch" href="/site/assets/js/11.c8041b5d.js"><link rel="prefetch" href="/site/assets/js/12.37833e0f.js"><link rel="prefetch" href="/site/assets/js/13.44f68c23.js"><link rel="prefetch" href="/site/assets/js/15.8343a957.js"><link rel="prefetch" href="/site/assets/js/16.46590d26.js"><link rel="prefetch" href="/site/assets/js/17.3f1763be.js"><link rel="prefetch" href="/site/assets/js/18.715a716f.js"><link rel="prefetch" href="/site/assets/js/19.16ff60de.js"><link rel="prefetch" href="/site/assets/js/2.c06d3f01.js"><link rel="prefetch" href="/site/assets/js/20.8e3f6cd8.js"><link rel="prefetch" href="/site/assets/js/21.9ddcf7e7.js"><link rel="prefetch" href="/site/assets/js/22.995b1ab7.js"><link rel="prefetch" href="/site/assets/js/23.51044c32.js"><link rel="prefetch" href="/site/assets/js/24.c40df050.js"><link rel="prefetch" href="/site/assets/js/25.7abf62a3.js"><link rel="prefetch" href="/site/assets/js/26.f87a5abe.js"><link rel="prefetch" href="/site/assets/js/27.bed73bf3.js"><link rel="prefetch" href="/site/assets/js/3.20634d14.js"><link rel="prefetch" href="/site/assets/js/4.24bd4734.js"><link rel="prefetch" href="/site/assets/js/5.2dfdbe11.js"><link rel="prefetch" href="/site/assets/js/6.56cec196.js"><link rel="prefetch" href="/site/assets/js/7.2a9563b5.js"><link rel="prefetch" href="/site/assets/js/8.16918ccb.js"><link rel="prefetch" href="/site/assets/js/9.b2d3e47c.js">
    <link rel="stylesheet" href="/site/assets/css/styles.styles.6fb07386.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/site/" class="home-link router-link-active"><img src="logo.png" alt="Moleculer" class="logo"> <span class="site-name can-hide">Moleculer</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/site/" class="nav-link">Home</a></div><div class="nav-item"><a href="/site/introduction.html" class="nav-link">Documentation</a></div><div class="nav-item"><a href="https://www.patreon.com/moleculer_java" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Donate
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/moleculer-java/moleculer-java" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/site/" class="nav-link">Home</a></div><div class="nav-item"><a href="/site/introduction.html" class="nav-link">Documentation</a></div><div class="nav-item"><a href="https://www.patreon.com/moleculer_java" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Donate
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/moleculer-java/moleculer-java" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Getting started</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Moleculer core</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Clustering</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/site/moleculer-web.html" class="sidebar-link">Web API Gateway</a></li><li><a href="/site/moleculer-repl.html" class="sidebar-link">Moleculer REPL</a></li><li><a href="/site/mongo-client.html" class="sidebar-link">MongoDB client</a></li><li><a href="/site/http-client.html" class="sidebar-link">HTTP client</a></li><li><a href="/site/jmx-service.html" class="active sidebar-link">JMX Service</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/site/jmx-service.html#about-the-jmx-service" class="sidebar-link">About the JMX Service</a></li><li class="sidebar-sub-header"><a href="/site/jmx-service.html#download" class="sidebar-link">Download</a></li><li class="sidebar-sub-header"><a href="/site/jmx-service.html#usage-from-code" class="sidebar-link">Usage from code</a></li><li class="sidebar-sub-header"><a href="/site/jmx-service.html#usage-with-spring-framework" class="sidebar-link">Usage with Spring Framework</a></li><li class="sidebar-sub-header"><a href="/site/jmx-service.html#jmx-commands" class="sidebar-link">JMX Commands</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/site/jmx-service.html#list-object-mbean-names" class="sidebar-link">List object (MBean) names</a></li><li class="sidebar-sub-header"><a href="/site/jmx-service.html#get-object-entire-mbean" class="sidebar-link">Get object (entire MBean)</a></li><li class="sidebar-sub-header"><a href="/site/jmx-service.html#get-attribute" class="sidebar-link">Get attribute</a></li><li class="sidebar-sub-header"><a href="/site/jmx-service.html#find-objects-by-a-query-string" class="sidebar-link">Find objects by a query string</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="about-the-jmx-service"><a href="#about-the-jmx-service" class="header-anchor">#</a> About the JMX Service</h2> <p>The &quot;jmx&quot; Moleculer Service allows you to easily query the contents stored in a local or a remote JMX Registry.
With this service Java and Node.js-based Moleculer nodes can easily query java-specific data
(eg. JVM's memory usage, number of threads, or various statistical data - for example,
JMX Service provides access to low-level statistics to Cassandra, Apache Kafka or Elasticsearch Servers).</p> <p>The other advantage of the JMXService is that it can monitor objects in the JMX registry, and sends events about the changes.
This events can be received by any node subscribed to this event, including Node.js-based nodes.</p> <h2 id="download"><a href="#download" class="header-anchor">#</a> Download</h2> <p><strong>Maven</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.github.berkesa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>moleculer-java-jmx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>Gradle</strong></p> <div class="language-gradle extra-class"><pre class="language-text"><code>dependencies {
	implementation group: 'com.github.berkesa', name: 'moleculer-java-jmx', version: '1.2.1' 
}
</code></pre></div><h2 id="usage-from-code"><a href="#usage-from-code" class="header-anchor">#</a> Usage from code</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ServiceBroker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">createService</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">JmxService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="usage-with-spring-framework"><a href="#usage-with-spring-framework" class="header-anchor">#</a> Usage with Spring Framework</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
	   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
	   http://www.springframework.org/schema/context
	   http://www.springframework.org/schema/context/spring-context-3.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- ENABLE ANNOTATION PROCESSING --&gt;</span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>annotation-config</span> <span class="token punctuation">/&gt;</span></span>

	<span class="token comment">&lt;!-- INSTALL USER-DEFINED MOLECULER SERVICES --&gt;</span>
	
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>my.services<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

	<span class="token comment">&lt;!-- INSTALL JMX SERVICE --&gt;</span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>jmx<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>services.moleculer.jmx.JmxService<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

	<span class="token comment">&lt;!-- SPRING REGISTRATOR FOR MOLECULER SERVICES --&gt;</span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>registrator<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>services.moleculer.config.SpringRegistrator<span class="token punctuation">&quot;</span></span> <span class="token attr-name">depends-on</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>broker<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

	<span class="token comment">&lt;!-- SERVICE BROKER INSTANCE --&gt;</span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>broker<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>services.moleculer.ServiceBroker<span class="token punctuation">&quot;</span></span> <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>start<span class="token punctuation">&quot;</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stop<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>brokerConfig<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- SERVICE BROKER SETTINGS --&gt;</span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>brokerConfig<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>services.moleculer.config.ServiceBrokerConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>nodeID<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>node-1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="jmx-commands"><a href="#jmx-commands" class="header-anchor">#</a> JMX Commands</h2> <h3 id="list-object-mbean-names"><a href="#list-object-mbean-names" class="header-anchor">#</a> List object (MBean) names</h3> <p>Invoke from <a href="/site/moleculer-repl.html">REPL</a> console:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>mol $ call jmx.listObjectNames --query memory
</code></pre></div><p>Invoke from <a href="/site/actions.html#calling-actions">Java code</a>:</p> <div class="language-java extra-class"><pre class="language-java"><code>broker<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&quot;jmx.listObjectNames&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>rsp <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Tree</span> item<span class="token operator">:</span> rsp<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;objectNames&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> objectName <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Options</strong></p> <div class="language- extra-class"><pre class="language-text"><code>    --query optional query string (eg. &quot;memory&quot; or &quot;java.lang:*&quot;)
    --sort  sort list to alphanumeric order    
</code></pre></div><p><strong>Output</strong></p> <p><img src="jmx/listObjectNames.png" alt="image"></p> <h3 id="get-object-entire-mbean"><a href="#get-object-entire-mbean" class="header-anchor">#</a> Get object (entire MBean)</h3> <p>Invoke from <a href="/site/moleculer-repl.html">REPL</a> console:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>mol $ call jmx.getObject --objectName <span class="token string">&quot;java.lang:type=Memory&quot;</span>
</code></pre></div><p>Invoke from <a href="/site/actions.html#calling-actions">Java code</a>:</p> <div class="language-java extra-class"><pre class="language-java"><code>broker<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&quot;jmx.getObject&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;objectName&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;java.lang:type=Memory&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>rsp <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
  logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Usage: &quot;</span> <span class="token operator">+</span> rsp<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;HeapMemoryUsage.used&quot;</span><span class="token punctuation">,</span> <span class="token number">0L</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Options</strong></p> <div class="language- extra-class"><pre class="language-text"><code>    --objectName name of the MBean (eg. &quot;java.lang:type=Memory&quot;)
    --sort       sort attributes to alphanumeric order    
</code></pre></div><p><strong>Output</strong></p> <p><img src="jmx/getObject.png" alt="image"></p> <h3 id="get-attribute"><a href="#get-attribute" class="header-anchor">#</a> Get attribute</h3> <p>Invoke from <a href="/site/moleculer-repl.html">REPL</a> console:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>mol $ call jmx.getAttribute --objectName java.lang:type<span class="token operator">=</span>Threading
                            --attributeName AllThreadIds
</code></pre></div><p>Invoke from <a href="/site/actions.html#calling-actions">Java code</a>:</p> <div class="language-java extra-class"><pre class="language-java"><code>broker<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&quot;jmx.getAttribute&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;objectName&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;java.lang:type=Threading&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;attributeName&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;AllThreadIds&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>rsp <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Tree</span> item<span class="token operator">:</span> rsp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Thread ID: &quot;</span> <span class="token operator">+</span> item<span class="token punctuation">.</span><span class="token function">asLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Options</strong></p> <div class="language- extra-class"><pre class="language-text"><code>    --objectName    name of the MBean (eg. &quot;java.lang:type=Runtime&quot;)
    --attributeName attribute name (eg. &quot;HeapMemoryUsage&quot;)
    --path          one property of the composite attribute (eg. &quot;used&quot;)
    --sort          sort properties to alphanumeric order    
</code></pre></div><p><strong>Output</strong></p> <p><img src="jmx/getAttribute.png" alt="image"></p> <h3 id="find-objects-by-a-query-string"><a href="#find-objects-by-a-query-string" class="header-anchor">#</a> Find objects by a query string</h3> <p>Invoke from <a href="/site/moleculer-repl.html">REPL</a> console:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>mol $ call jmx.findObjects --query cputime
</code></pre></div><p>Invoke from <a href="/site/actions.html#calling-actions">Java code</a>:</p> <div class="language-java extra-class"><pre class="language-java"><code>broker<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&quot;jmx.findObjects&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;query&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;cputime&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>rsp <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Tree</span> item<span class="token operator">:</span> rsp<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;objects&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Object name: &quot;</span> <span class="token operator">+</span> item<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;ObjectName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Options</strong></p> <div class="language- extra-class"><pre class="language-text"><code>    --query query String (eg. &quot;cputime&quot; or &quot;java.lang:*&quot;)
    --max   max number of retrieved objects (default is 64)
    --sort  sort attributes to alphanumeric order    
</code></pre></div><p><strong>Output</strong></p> <p><img src="jmx/findObjects.png" alt="image"></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/moleculer-java/site/edit/master/src/jmx-service.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/4/2020, 6:35:35 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/site/http-client.html" class="prev">HTTP client</a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/site/assets/js/app.26e2216f.js" defer></script><script src="/site/assets/js/0.8d50c814.js" defer></script><script src="/site/assets/js/14.6dff35a5.js" defer></script>
  </body>
</html>
